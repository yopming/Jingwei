<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Jingwei - Guide|专题规范</title>
  <meta name="viewport" content="width=device-width">

  <link rel="stylesheet" href="/assets/css/base.css">
  <link rel="stylesheet" href="/assets/css/docs.css">
  <!-- syntax highlighting CSS -->
  <link rel="stylesheet" href="/assets/css/syntax.css">

</head>
<body id="jingwei">
  <div id="header">
    <div class="container">
      <h1>Jingwei Styleguide</h1>
    </div>
  </div>

  <div id="menu">
    <div class="container">
      <ul class="tabs">
        <li >
          <a href="/">Overall</a>
        </li>
        <li >
          <a href="/skeleton">Skeleton</a>
        </li>
        <li >
          <a href="/elementary">Elementary</a>
        </li>
        <li >
          <a href="/building">Building</a>
        </li>
        <li >
          <a href="/dictionary">Dictionary</a>
        </li>
        <li  class="active" >
          <a href="/guide">Guide</a>
        </li>
        <li >
          <a href="/whatsnew">What's New</a>
        </li>
      </ul>
    </div>
  </div>

  <div id="content">
    <div class="container">
      
<div class="rodoc">
  <!-- Guide< -->
  <!-- guide -->
  <!-- 11 Jul 2014 -->
  <div class="post markdown">
    <h1>专题规范</h1>

<h2>入口地址</h2>

<p><a href="cst.xyz.cn">http://cst.xyz.cn/</a> 进入运营系统进行专题的修改</p>

<h2>新增专题步骤</h2>

<ol>
<li>在本地按照视觉稿来进行页面编写和调试（因为在线上没有方便地修改专题的方法），此时没有页头页脚等元素；</li>
<li>在线上建立目录，把html文件按照修改要求修改成为jsp文件，然后同css、js、图片等一同上传到目录当中；</li>
<li>按照专题地址进行浏览器兼容性测试，线上地址属于正式版地址，在没有正式上线之前请勿公开传播。</li>
</ol>

<h2>修改专题步骤</h2>

<p><strong>如果修改内容比较多，最好把最新的jsp还原为html，在本地进行编辑</strong></p>

<ol>
<li>从运营系统中相对应的目录中下载最新的需要修改的文件（最好不要在不对比的情况下使用本地文件把线上的覆盖）；</li>
<li>在运营系统中删除已存在的文件（运营系统中不会自动覆盖文件）；</li>
<li>拖动文件上传。</li>
</ol>

<h2>专题名称</h2>

<p>在需求文档中会给出专题的URI，例如<code>http://www.xyz.cn/special/liuyi.html</code>，其中liuyi就是要求的专题名称，运营系统中的<em>目录名称</em>，<em>jsp名称</em>等都需要使用这个来命名，系统会根据liuyi.html来寻找liuyi目录下的liuyi.jsp文件。</p>

<h2>专题模板</h2>

<p>假设$TOPIC<em>NAME为专题名称，$TOPIC</em>TITLE为专题的title，$TOPIC<em>KEYWORDS与$TOPIC</em>DESCRIPTION为专题的SEO信息；</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;cn&quot;&gt;
&lt;head&gt;
  &lt;%@ page contentType=&quot;text/html; charset=GBK&quot;%&gt;
  &lt;title&gt;$TOPIC_TITLE&lt;/title&gt;
  &lt;meta content=&quot;$TOPIC_KEYWORDS&quot; name=&quot;keywords&quot;&gt;
  &lt;meta content=&quot;$TOPIC_DESCRIPTION&quot; name=&quot;description&quot;&gt;
  &lt;jsp:include page=&quot;../include/Apollo_SkeletonCSS.jsp&quot;/&gt;
  &lt;link href=&quot;${cms_system_res}/$TOPIC_NAME/static/$TOPIC_NAME.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;jsp:include page=&quot;../include/Apollo_Header.jsp&quot;/&gt;
  &lt;div class=&quot;fence-grow-down&quot; id=&quot;topic-$TOPIC_NAME&quot;&gt;
  ...
  &lt;/div&gt;
  &lt;jsp:include page=&quot;../include/Apollo_Footer.jsp&quot; /&gt;
  &lt;jsp:include page=&quot;../include/Apollo_JS.jsp&quot; /&gt;
  &lt;script src=&quot;${cms_system_res}/$TOPIC_NAME/static/$TOPIC_NAME.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div>
<p>一般情况下，复制模板之后需要修改八处。
每个专题需要一个自己的ID，通常是<code>#topic-$TOPIC_NAME</code>这种形式，当然也可以使用#topic加其他名称。</p>

<h2>静态文件目录</h2>

<p>静态文件目录是专题主目录下包括css、js、图片等文件的目录，是专题目录的子目录，名称统一为<code>static</code>。</p>

<h2>专题过期时间</h2>

<p>有些专题有时效性，需要在过期时间之后显示弹出层的提示。
$TOPIC_ENDTIME为专题的结束时间，格式为<code>2014-4-21</code>。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;jsp:include page=&quot;/WEB-INF/jspf/2012m/footer.jsp&quot;&gt;
  &lt;jsp:param value=&quot;2014-4-21&quot; name=&quot;specialEndtime&quot;/&gt;
&lt;/jsp:include&gt;
&lt;jsp:include page=&quot;../include/Apollo_JS.jsp&quot; /&gt;
&lt;script src=&quot;/mice/pngFix/jquery.pngFix.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/mice/special/special.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
</code></pre></div>
<p>用以上代码替换模板当中的以下代码</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;jsp:include page=&quot;../include/Apollo_Footer.jsp&quot; /&gt;
&lt;jsp:include page=&quot;../include/Apollo_JS.jsp&quot; /&gt;
</code></pre></div>
  </div>
</div>


    </div>
  </div>

  <div id="footer">
    <div class="container">
      <div class="contact-left">
        <p>
          <a href="mailto:gengtieming@made-in-china.com">gengtieming</a>
        </p>
      </div>
      <div class="contact-right">
        <p>@2014</p>
      </div>
    </div>
  </div>

  <script src="/assets/js/jquery.min.js"></script>
  <script src="/assets/js/jquery.browser.js"></script>
  <script src="/assets/js/jquery.iframe-auto-height.js"></script>
  <script src="/assets/js/example.js"></script>
</body>
</html>
